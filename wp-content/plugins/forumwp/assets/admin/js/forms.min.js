jQuery(document).ready(function(){var i;(jQuery(document.body).on("click",".editor-post-trash",function(e){jQuery("#fmwp_metadata_status_changed").val("")}),jQuery(document.body).on("click",'.editor-post-visibility__dialog-radio[value="private"]',function(e){jQuery("#fmwp_metadata_status_changed").val("")}),jQuery(document.body).on("change","#fmwp_metadata_post_status",function(e){jQuery("#fmwp_metadata_status_changed").data("post-status")!=jQuery(this).val()?jQuery("#fmwp_metadata_status_changed").val("1"):jQuery("#fmwp_metadata_status_changed").val("")}),jQuery("#fmwp_metadata_post_status").trigger("change"),fmwp_init_helptips(),jQuery(".fmwp-media-upload").each(function(){var e=jQuery(this).find(".fmwp-forms-field"),a=e.data("default");""!=e.val()&&e.val()!=a?(e.siblings(".fmwp-set-image").hide(),e.siblings(".fmwp-clear-image").show(),e.siblings(".icon_preview").show()):(e.val()==a&&e.siblings(".icon_preview").show(),e.siblings(".fmwp-set-image").show(),e.siblings(".fmwp-clear-image").hide())}),"undefined"!=typeof wp&&wp.media&&wp.media.editor)&&(jQuery(".fmwp-set-image").click(function(e){var a=jQuery(this);e.preventDefault(),i&&i.remove(),(i=wp.media({title:a.data("upload_frame"),button:{text:php_data.texts.select},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();a.siblings(".icon_preview").attr("src",e.url).show(),a.siblings(".fmwp-forms-field").val(e.url),a.siblings(".fmwp-media-upload-data-id").val(e.id),a.siblings(".fmwp-media-upload-data-width").val(e.width),a.siblings(".fmwp-media-upload-data-height").val(e.height),a.siblings(".fmwp-media-upload-data-thumbnail").val(e.thumbnail),a.siblings(".fmwp-media-upload-data-url").trigger("change"),a.siblings(".fmwp-media-upload-url").val(e.url),a.siblings(".fmwp-clear-image").show(),a.hide(),jQuery(document).trigger("fmwp_media_upload_select",[a,e])}),i.open()}),jQuery(".icon_preview").click(function(e){jQuery(this).siblings(".fmwp-set-image").trigger("click")}),jQuery(".fmwp-clear-image").click(function(){var e=jQuery(this),a=e.siblings(".fmwp-forms-field").data("default");e.siblings(".fmwp-set-image").show(),e.hide(),e.siblings(".icon_preview").attr("src",a),e.siblings(".fmwp-media-upload-data-id").val(""),e.siblings(".fmwp-media-upload-data-width").val(""),e.siblings(".fmwp-media-upload-data-height").val(""),e.siblings(".fmwp-media-upload-data-thumbnail").val(""),e.siblings(".fmwp-forms-field").val(a),e.siblings(".fmwp-media-upload-data-url").trigger("change"),e.siblings(".fmwp-media-upload-url").val(a),jQuery(document).trigger("fmwp_media_upload_clear",e)}));function e(){jQuery(".fmwp-forms-line").removeClass("fmwp-forms-line-conditioned").each(function(){void 0===jQuery(this).data("conditional")||jQuery(this).hasClass("fmwp-forms-line-conditioned")||(!function e(a){a.addClass("fmwp-forms-line-conditioned");var i=a.data("conditional");var t=i[1];var s=i[2];var l=a.data("prefix");var n=jQuery("#"+l+"_"+i[0]);var d=!0;void 0!==n.parents(".fmwp-forms-line").data("conditional")&&(d=e(n.parents(".fmwp-forms-line")));var r=!1;if("="==t){var o=n.prop("tagName").toLowerCase();if("input"==o){var m=n.attr("type");r="checkbox"==m?"1"==s?n.is(":checked"):!n.is(":checked"):n.val()==s}else"select"==o&&(r=n.val()==s)}else if("!="==t){var o=n.prop("tagName").toLowerCase();if("input"==o){var m=n.attr("type");r="checkbox"==m?"1"==s?!n.is(":checked"):n.is(":checked"):n.val()!=s}else"select"==o&&(r=n.val()!=s)}return r&&d}(jQuery(this))?jQuery(this).hide():jQuery(this).show())})}if(jQuery(document.body).on("change",".fmwp-forms-field",function(){0<jQuery(".fmwp-forms-line[data-conditional*='\""+jQuery(this).data("field_id")+"\",']").length&&e()}),e(),jQuery(".fmwp-icon-select-field").length){function a(e){var a=e.element;return jQuery('<span><i class="'+jQuery(a).data("icon")+'"></i> '+e.text+"</span>")}wp.ajax.send("fmwp_get_icons",{data:{nonce:fmwp_admin_data.nonce},success:function(t){var s="";jQuery.each(t,function(i){jQuery.each(t[i].styles,function(e){var a;"solid"===t[i].styles[e]?a="fas fa-":"regular"===t[i].styles[e]?a="far fa-":"brands"===t[i].styles[e]&&(a="fab fa-"),s+='<option data-icon="'+a+i+'" value="'+a+i+'">'+t[i].label+"</option>"})}),jQuery(".fmwp-icon-select-field").each(function(){var e=jQuery(this).data("value");jQuery(this).html(s).val(e),jQuery(".fmwp-icon-select-field").select2({width:"100%",theme:"classic",allowHtml:!0,templateSelection:a,templateResult:a,dropdownCssClass:"fmwp"})})},error:function(e){}})}});